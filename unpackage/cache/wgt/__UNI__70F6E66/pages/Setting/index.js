"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var j=Object.create;var S=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var V=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var $=(n,t,l,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B(t))!U.call(n,o)&&o!==l&&S(n,o,{get:()=>t[o],enumerable:!(i=H(t,o))||i.enumerable});return n};var f=(n,t,l)=>(l=n!=null?j(P(n)):{},$(t||!n||!n.__esModule?S(l,"default",{value:n,enumerable:!0}):l,n));var v=V((Q,I)=>{I.exports=Vue});var m=V((z,h)=>{h.exports=uni.Pinia});var e=f(v());var s=f(v()),C=f(m());var M="onShow";var W="onReady";var O=n=>(t,l=(0,s.getCurrentInstance)())=>{!s.isInSSRComponentSetup&&(0,s.injectHook)(n,t,l)},R=O(M);var D=O(W);var L=(0,C.defineStore)("setting",()=>{let n=uni.getStorageSync("setting");n||(n={ip:"127.0.0.1",port:8080});let t=(0,s.ref)(n);n=uni.getStorageSync("text"),n||(n={topTitle:"\u667A\u6167\u5BA2\u6D41",leftTitle:"\u5BA2\u6D41\u5206\u5E03",rightTitle:"\u8FD1\u671F\u5BA2\u6D41",centre:{title:"\u666F\u533A\u4EBA\u6570",text:"\u4ECA\u65E5\u5165\u56ED"},bottomTitle:"\u5206\u65F6\u5BA2\u6D41"});let l=(0,s.ref)(n),i=r=>{r&&(Object.assign(t.value,r),uni.setStorageSync("setting",t.value))},o=r=>{Object.assign(l.value,r)},p=(0,s.computed)(()=>(t.value===void 0&&(t.value={ip:"127.0.0.1",port:8080}),`http://${t.value.ip}:${t.value.port}/power-haven`));return{setting:t,textConfig:l,updateText:o,updateSetting:i,baseUrl:p}}),N=(n,t)=>{let l=n.__vccOpts||n;for(let[i,o]of t)l[i]=o;return l};var K=f(m()),Y=(0,e.defineComponent)({__name:"index",setup(n){let t=(0,e.ref)({ip:"127.0.0.1",port:8080}),l=(0,e.ref)({topTitle:"\u667A\u6167\u5BA2\u6D41",leftTitle:"\u5BA2\u6D41\u5206\u5E03",rightTitle:"\u8FD1\u671F\u5BA2\u6D41",centre:{title:"\u666F\u533A\u4EBA\u6570",text:"\u4ECA\u65E5\u5165\u56ED"},bottomTitle:"\u5206\u65F6\u5BA2\u6D41"}),i={left:21,right:22,top:19,bottom:20,confirm:23,menu:82},o=(0,e.ref)(0),p=(0,e.ref)(null),r=(0,e.ref)(null),y=(0,e.ref)(null),x=(0,e.ref)(null),b=(0,e.ref)(null),_=(0,e.ref)(null),T=(0,e.ref)(null),k=(0,e.ref)(null),c=L();D(()=>{t.value=c.setting,l.value=c.textConfig}),R(()=>{plus.key.removeEventListener("keydown",()=>{}),plus.key.addEventListener("keydown",A,!1)});function A(w){switch(w.keyCode){case i.top:o.value=Math.max(0,o.value-1);break;case i.bottom:o.value=Math.min(7,o.value+1);break;case i.confirm:switch(o.value){case 0:p.value.focus();break;case 1:r.value.focus();break;case 2:y.value.focus();break;case 3:x.value.focus();break;case 4:b.value.focus();break;case 5:_.value.focus();break;case 6:T.value.focus();break;case 7:k.value.focus();break}break;case i.menu:uni.showToast({title:"\u4FDD\u5B58\u6210\u529F",mask:!0}),c.updateSetting(t.value),c.updateText(l.value);break}}return(w,a)=>{let E=(0,e.resolveComponent)("form");return(0,e.openBlock)(),(0,e.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,e.createElementVNode)("view",{class:"contain"},[(0,e.createVNode)(E,{action:""},{default:(0,e.withCtx)(()=>[(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"\u9009\u62E9\u7684\u662F\uFF1A"+(0,e.toDisplayString)(o.value+1),1)]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[1] IP\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"ipRef",ref:p,type:"decimal",modelValue:t.value.ip,onInput:a[0]||(a[0]=u=>t.value.ip=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[2] \u7AEF\u53E3\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"portRef",ref:r,type:"number",modelValue:t.value.port,onInput:a[1]||(a[1]=u=>t.value.port=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[3] \u6807\u9898\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"topTitle",ref:y,type:"text",modelValue:l.value.topTitle,onInput:a[2]||(a[2]=u=>l.value.topTitle=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[4] \u5DE6\u6807\u9898\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"leftTitle",ref:x,type:"text",modelValue:l.value.leftTitle,onInput:a[3]||(a[3]=u=>l.value.leftTitle=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[5] \u4E2D\u95F4\u6807\u9898\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"centreTitle",ref:b,type:"text",modelValue:l.value.centre.title,onInput:a[4]||(a[4]=u=>l.value.centre.title=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[6] \u4E2D\u5FC3\u6587\u5B57\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"centreText",ref:_,type:"text",modelValue:l.value.centre.text,onInput:a[5]||(a[5]=u=>l.value.centre.text=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[7] \u53F3\u6807\u9898\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"rightTitle",ref:T,type:"text",modelValue:l.value.rightTitle,onInput:a[6]||(a[6]=u=>l.value.rightTitle=u.detail.value)},null,40,["modelValue"])]),(0,e.createElementVNode)("view",{class:"label"},[(0,e.createElementVNode)("u-text",null,"[8] \u5E95\u90E8\u6807\u9898\uFF1A"),(0,e.createElementVNode)("u-input",{class:"input",ref_key:"bottomTitle",ref:k,type:"text",modelValue:l.value.bottomTitle,onInput:a[7]||(a[7]=u=>l.value.bottomTitle=u.detail.value)},null,40,["modelValue"])])]),_:1})])])}}}),q={contain:{"":{width:962,height:542,overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},input:{"":{backgroundColor:"#d0d0d0",paddingTop:5,paddingRight:5,paddingBottom:5,paddingLeft:5,marginTop:5,marginRight:5,marginBottom:5,marginLeft:5,width:200,height:40,borderRadius:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},label:{"":{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}}},d=N(Y,[["styles",[q]]]);var g=plus.webview.currentWebview();if(g){let n=parseInt(g.id),t="pages/Setting/index",l={};try{l=JSON.parse(g.__query__)}catch(o){}d.mpType="page";let i=Vue.createPageApp(d,{$store:getApp({allowDefault:!0}).$store,__pageId:n,__pagePath:t,__pageQuery:l});i.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...d.styles||[]])),i.mount("#root")}})();
